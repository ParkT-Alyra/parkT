
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta
            name="description"
            content="Web site created with EthDoc"
    />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>

<style>
    #ethdoc-viewer{
        font-size: 0.8em;
        padding: 1em;
    }
    #ethdoc-viewer .lead{
        font-size: 1em;
    }
    #ethdoc-viewer table {
        width: 50%;
    }
    #ethdoc-viewer hr {
        margin: 0;
        margin-bottom: 0.5rem;
    }
    #ethdoc-viewer p{
        margin-bottom: 0.5rem;
    }
</style>

<div id="ethdoc-viewer">


    <h3>ParkT </h3>





    <br />
    <p><strong>Functions</strong></p>



    <hr>
    <h6>bookParking</h6>

    <p>checks about availability and authorized the transaction - update bookingByParkingId with the booking</p>

    <table class="table table-sm table-bordered table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>_parkingId</td>
            <td>uint256</td>
            <td>id of the parking wanted to book by the driver</td>
        </tr>
        </tbody>
    </table>

    <p>Returns:</p>

    <p>No parameters</p>


    <hr>
    <h6>bookingByParkingId</h6>

    <p><strong>mapping for booking by parking ID</strong></p>

    <table class="table table-sm table-bordered table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td></td>
            <td>uint256</td>
            <td></td>
        </tr>
        </tbody>
    </table>

    <p>Returns:</p>

    <table class="table table-sm table-bordered table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>driver</td>
            <td>address</td>
            <td></td>
        </tr><tr>
            <td>timestamp</td>
            <td>uint256</td>
            <td></td>
        </tr><tr>
            <td>requiredAmount</td>
            <td>uint256</td>
            <td></td>
        </tr>
        </tbody>
    </table>


    <hr>
    <h6>fetchParkings</h6>

    <p>return list of all registered parkings (use of memory array building pattern https://fravoll.github.io/solidity-patterns/memory_array_building.html)</p>

    <p>No parameters</p>

    <p>Returns:</p>

    <table class="table table-sm table-bordered table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td></td>
            <td>tuple[]</td>
            <td></td>
        </tr>
        </tbody>
    </table>


    <hr>
    <h6>getParkingId</h6>

    <p>parkingId less one is the number of the parking registering - TODO use instead @openzeppelin/contracts/utils/Counters.sol</p>

    <p>No parameters</p>

    <p>Returns:</p>

    <table class="table table-sm table-bordered table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td></td>
            <td>uint256</td>
            <td></td>
        </tr>
        </tbody>
    </table>


    <hr>
    <h6>owner</h6>

    <p>Returns the address of the current owner.</p>

    <p>No parameters</p>

    <p>Returns:</p>

    <table class="table table-sm table-bordered table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td></td>
            <td>address</td>
            <td></td>
        </tr>
        </tbody>
    </table>


    <hr>
    <h6>parkingById</h6>

    <p><strong>mapping for parking by ID</strong></p>

    <table class="table table-sm table-bordered table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td></td>
            <td>uint256</td>
            <td></td>
        </tr>
        </tbody>
    </table>

    <p>Returns:</p>

    <table class="table table-sm table-bordered table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>owner</td>
            <td>address</td>
            <td></td>
        </tr><tr>
            <td>priceBySecond</td>
            <td>uint256</td>
            <td></td>
        </tr><tr>
            <td>deposit</td>
            <td>uint256</td>
            <td></td>
        </tr><tr>
            <td>balance</td>
            <td>uint256</td>
            <td></td>
        </tr><tr>
            <td>postalCode</td>
            <td>string</td>
            <td></td>
        </tr><tr>
            <td>coordinate</td>
            <td>tuple</td>
            <td></td>
        </tr>
        </tbody>
    </table>


    <hr>
    <h6>registerParking</h6>

    <p>simply add an entry in the mapping parkingById for listing all parking</p>

    <table class="table table-sm table-bordered table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>_price</td>
            <td>uint256</td>
            <td>is the price for one second</td>
        </tr><tr>
            <td>_deposit</td>
            <td>uint256</td>
            <td>is the price collateral in case of any problem</td>
        </tr><tr>
            <td>_postalCode</td>
            <td>string</td>
            <td>is for the parking display</td>
        </tr><tr>
            <td>_coordinate</td>
            <td>tuple</td>
            <td>is for the coordinate of the parking</td>
        </tr>
        </tbody>
    </table>

    <p>Returns:</p>

    <p>No parameters</p>


    <hr>
    <h6>releaseParking</h6>

    <p>call by the IOT with the booker addresssave the collateral for the owner and refund the driver</p>

    <table class="table table-sm table-bordered table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>_parkingId</td>
            <td>uint256</td>
            <td>id of the parking wanted to release by the driver</td>
        </tr>
        </tbody>
    </table>

    <p>Returns:</p>

    <p>No parameters</p>


    <hr>
    <h6>renounceOwnership</h6>

    <p>Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.</p>

    <p>No parameters</p>

    <p>Returns:</p>

    <p>No parameters</p>


    <hr>
    <h6>transferOwnership</h6>

    <p>Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.</p>

    <table class="table table-sm table-bordered table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>newOwner</td>
            <td>address</td>
            <td></td>
        </tr>
        </tbody>
    </table>

    <p>Returns:</p>

    <p>No parameters</p>


    <hr>
    <h6>withdraw</h6>

    <p>avoid pull payment attack by using a function for the withdraw</p>

    <table class="table table-sm table-bordered table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>_parkingId</td>
            <td>uint256</td>
            <td>id of the parking wanted to get balance by the owner</td>
        </tr>
        </tbody>
    </table>

    <p>Returns:</p>

    <p>No parameters</p>


</div>

</body>
</html>
